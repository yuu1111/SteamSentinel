# 開発ロードマップ

## 即座の改善項目(現在のコードベース)

### 優先度: 最高
- **キーボードショートカット ヘルプ**: useKeyboardShortcuts.ts のヘルプモーダル
- **Discord通知詳細設定**: Settings.tsx での詳細設定画面
- **監視間隔UI設定**: 現在は環境変数のみ、UI設定追加

### 優先度: 高
- **設定値制限・検証の完全実装**: 
  - 監視間隔制限(10分-24時間)
  - 通知制限(1時間-7日間)
  - API接続制限(1-5同時接続、5-60秒タイムアウト)
  - データ保持期間制限

## Phase 1-2 未実装機能の完了

### 優先度: 高
- **セール期間表示**: 現在セールの終了日時表示
- **設定バックアップ/復元**: ゲームリスト書き出し/読み込み機能
- **ログ表示機能**: エラーや処理状況の確認UI

### 優先度: 中
- **ヘルスチェック機能**: API接続状況、最終更新時刻表示

### 優先度: 低
- **API制限・エラー処理の強化**: 指数バックオフ戦略完全実装
- **セキュリティ強化**: 入力検証、XSS対策の追加実装

## Phase 2 機能拡張の未実装項目

### 優先度: 高
- **ウィッシュリスト連携**: Steamのウィッシュリストからインポート(Steam APIキー必要)
- **セール頻度統計**: 年間セール回数、平均割引率
- **割引率履歴**: 過去最大割引率の追跡

### 優先度: 中
- **レビュー統合表示の拡張**: より多くのソースからの評価統合
- **リリース日管理の強化**: ウィッシュリストゲームの発売日追跡機能拡充
- **高度な分析機能**:
  - 出費追跡ダッシュボードの拡張(データ蓄積期間が必要)
  - 節約額表示の精緻化

## エラー処理・復旧戦略の強化

### 優先度: 高
- **データベース関連エラー処理**:
  - 破損検知機能の実装
  - 自動バックアップからの復元
  - 新規データベース作成フォールバック
- **API障害時の対応強化**:
  - 短期障害(1時間未満)の再試行ロジック
  - 長期障害(1時間以上)の管理画面表示
  - 完全障害時の利用可能API継続システム

### 優先度: 中
- **設定ファイル問題対応**:
  - 破損・欠損時のデフォルト値継続
  - 不正値の自動補正機能
  - 権限エラー時の手動修正促進
- **プロセス異常終了対応**:
  - 詳細エラー情報のファイル出力
  - 処理中データの安全な保存
  - systemd/pm2等での自動復旧対応

## 高度機能の実装準備

### 優先度: 中
- **Epic Games無料ゲーム通知の強化**:
  - RSS Feed(推奨)の完全実装
  - IsThereAnyDeal API(バックアップ)のフォールバック
- **Amazon Prime Gaming連携準備**:
  - LootScraper RSS(推奨)統合
  - GraphQL API(上級者向け)準備
  - コミュニティサイト連携(GG.deals、IndieGameBundles)
- **高割引ゲーム動的検知の拡張**:
  - IsThereAnyDeal戦略の完全活用
  - フィルタリング条件の精緻化(レビュー1000件以上、評価80%以上等)

## Phase 3: 総合ゲーム支援

### 優先度: 高
- **重複ゲーム検知**: 複数ストア間の重複購入防止システム
- **バンドル管理**: Humble Bundle等の未取得キー管理
- **積みゲー管理**: 未プレイゲーム追跡、プレイ時間分析
- **キーボードショートカット ヘルプ**: useKeyboardShortcuts.ts

### 優先度: 中
- **Amazon Prime Gaming連携**: LootScraper RSS + GraphQL API
- **Discord通知詳細設定**: Settings.tsx での詳細設定
- **監視間隔UI設定**: 現在は環境変数のみ、UI設定追加
- **ウィッシュリスト連携**: Steam API経由(※Steam APIキー必要)

### 優先度: 低
- **地域対応拡張**: US/EU/UK価格対応
- **モバイルUI最適化**: PWA機能追加

## Phase 4: 高度分析・通知

### 優先度: 高
- **トレンド分析**: 急上昇ゲーム、バイラルゲーム検知
- **アップデート通知**: 所有ゲームの大型アップデート

### 優先度: 中
- **YouTube・Twitch連携**: 好きなゲームの新動画/配信通知(※APIキー必要)
- **セール頻度統計**: 年間セール回数、平均割引率
- **割引率履歴**: 過去最大割引率の追跡

### 優先度: 低
- **レビュー統合の拡張**: より多くのソースからの評価統合

## Phase 5: プラットフォーム拡張

### 優先度: 高
- **他ストア価格比較拡張**: GOG, Origin, Uplay等
- **多地域対応**: US(USD), EU(EUR), UK(GBP)

### 優先度: 中
- **モバイルアプリ版**: React Native実装
- **クロスプラットフォーム同期**: 複数デバイス間でのデータ共有

### 優先度: 低
- **マルチユーザー対応**: 複数ユーザーでの利用

## アーキテクチャ改善案

### API処理最適化
- **GraphQL導入**: REST API の置き換え検討
- **キャッシュシステム**: Redis導入でAPI呼び出し削減
- **非同期処理改善**: Worker Threads活用

### データベース最適化
- **PostgreSQL移行**: SQLiteからの段階的移行
- **インデックス最適化**: クエリパフォーマンス向上
- **パーティショニング**: 大量データ対応

### フロントエンド強化
- **React Query導入**: 状態管理の改善
- **Virtual Scrolling**: 大量データ表示最適化
- **Web Workers**: 重い処理のバックグラウンド実行

## パフォーマンス最適化

### 短期改善
- **Bundle Size削減**: Tree shaking最適化
- **画像最適化**: WebP対応、Lazy Loading
- **API並列処理**: 同期処理の非同期化

### 中期改善
- **CDN導入**: 静的ファイル配信最適化
- **サーバーサイドキャッシュ**: 重いクエリのキャッシュ化
- **レスポンス圧縮**: gzip/brotli圧縮

### 長期改善
- **マイクロサービス化**: 機能別サービス分離
- **Load Balancing**: 高負荷対応
- **監視システム**: APM導入

## APIキー依存機能(要準備)

### 必要時実装
- **Steam API**: ウィッシュリスト連携、プロフィール統合
- **YouTube API**: 動画通知、レビュー動画検索
- **Twitch API**: 配信通知、ストリーマー連携
- **IGDB API**: より詳細なゲーム情報(既に一部実装済み)

### フォールバック戦略
- **Steam API失敗時**: Steam Store API使用
- **YouTube API失敗時**: コミュニティソース活用
- **IGDB API失敗時**: OpenCritic自動フォールバック(実装済み)

## 新機能アイデア

### ユーザー体験向上
- **ゲームレコメンド**: 購入履歴ベースの推奨
- **価格予測**: 機械学習による価格トレンド予測
- **ソーシャル機能**: 友達との価格情報共有

### データ分析強化
- **出費パターン分析**: 購入傾向の詳細分析
- **セール効果測定**: 割引率と売上の相関分析
- **ゲーム寿命予測**: プレイ時間と満足度の分析

### 外部サービス連携
- **家計簿アプリ連携**: Zaim、Money Forward等
- **カレンダー連携**: セール期間の自動登録
- **メール通知**: Discord以外の通知手段

## ユーザビリティ・UI/UX改善

### レスポンシブ対応の完全実装
- **デスクトップ**: 1920px以上(3カラムレイアウト)
- **タブレット**: 768px-1919px(2カラムレイアウト)  
- **モバイル**: 767px以下(1カラム、スタック表示)

### アクセシビリティ強化
- **色覚異常対応**: カラーパレット配慮、アイコン併用
- **コントラスト**: WCAG 2.1 AA レベル準拠
- **スクリーンリーダー**: aria-label、role属性適切に設定
- **フォーカス**: タブ移動でキーボード操作可能

### キーボードショートカットの拡張
- `Ctrl/Cmd + R`: 手動更新
- `Ctrl/Cmd + A`: ゲーム追加モーダル
- `Ctrl/Cmd + S`: 設定画面
- `Ctrl/Cmd + D`: ダークモード切り替え
- `ESC`: モーダル・ドロップダウン閉じる

## テスト体制の構築

### 優先度: 高
- **単体テスト**: Jest使用
  - API関数のレスポンス処理
  - 価格比較ロジック
  - データベース操作
- **統合テスト**:
  - 全監視フローの動作確認
  - Web UIの基本操作
  - アラート機能

### 優先度: 中
- **軽量負荷テスト**:
  - 50ゲーム同時監視
  - 連続24時間稼働
  - メモリリーク検証
- **E2Eテスト**: Playwright等での自動テスト

## 地域対応の実装

### 優先度: 中
- **現バージョン**: 日本のみ(JPY、Steam Store API cc=jp、IsThereAnyDeal API region=jp)
- **将来対応予定**: US(USD), EU(EUR), UK(GBP)
- **実装方針**: 設定ファイルで地域選択可能
- **注意事項**: 地域ロックされたゲームの価格は除外

## 技術負債解消

### コードベース改善
- **TypeScript strict化**: より厳密な型チェック
- **テストカバレッジ向上**: 90%以上の目標
- **ESLint/Prettier統一**: コードスタイル標準化

### セキュリティ強化
- **認証システム**: ユーザー管理機能
- **API レート制限**: DDoS攻撃対策
- **入力検証強化**: XSS、SQLインジェクション対策
- **SQLite暗号化**: データベース暗号化オプション検討