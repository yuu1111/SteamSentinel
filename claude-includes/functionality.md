# Webサイト機能とユーザビリティ

## 基本表示と実装済み機能

* 価格一覧表示 (ゲーム名、現在価格、最安値、割引率)。
* 手動更新ボタン、ゲーム追加/削除UI。
* アラート履歴表示、Steamストアページ直リンク。
* ゲーム別アラート設定 (個別通知ON/OFF、価格閾値設定)。
* 価格推移グラフ (Chart.js)、セール期間表示。
* ヘルスチェック機能、ログ表示機能。
* 設定バックアップ/復元 (ゲームリスト書き出し/読み込み)。
* テーブルソート機能、ゲームバナー画像表示。
* 詳細エラー報告機能、ゲームタイプ自動検知 (F2P, 未リリースなど)。
* 開発環境最適化、エラー処理強化 (スタックトレース表示)。
* リアルタイム監視進捗表示 (進捗バー、残り時間、失敗件数)。
* SteamDBボタン (直接アクセス)。
* ゲーム名自動更新、カテゴリ別統計表示。
* 制限事項・ライセンス情報ページ。
* データ制限警告機能 (ITADの6ヶ月制限)。
* 未リリースゲームのリリース日監視。
* ゲーム追加時の価格データ自動取得。
* 統一ナビゲーションバー、全ページダークモード対応。
* CSP (Content Security Policy) 最適化。
* UI機能完全動作確認。
* 拡張価格閾値システム (価格・割引率・セール開始)。
* ゲーム管理専用画面 (全ゲーム一覧・詳細設定)。
* データベースマイグレーション機能。
* 包括的バックアップシステム (エクスポート/インポート、3モード)。
* 単一ゲーム監視機能 (個別即座更新)。
* ゲーム編集モーダル。
* **SPA (Single Page Application) 化完了**: TypeScriptベースのクライアントサイドルーティング、テンプレートレンダリング、History API対応。
* 統一ナビゲーションコンポーネント。
* DOM要素安全性強化。
* 特別なゲーム状況上部表示 (統計カード)。
* 視覚的レイアウト最適化。
* フロントエンドTypeScript化 (ルーター、ナビゲーション、UI)。

## 設定・テスト機能 (2025年6月実装)

* **Discord連携テスト機能**:
    * 4種類のテストメッセージ送信 (接続、価格アラート、高割引ゲーム、Epic無料ゲーム)。
    * `/api/discord/test/:testType` エンドポイント、リッチEmbed対応。
* **価格アラートテストシミュレーター**:
    * 任意ゲームでアラート条件テスト実行。
    * `/api/test/price-alert` エンドポイント、実際のアラート履歴記録、Discord通知オプション、詳細結果表示。
* **設定・テスト専用画面**: SPAルーティング対応の統合設定画面 (`/settings` ページ)。
* **システム情報ダッシュボード**:
    * リアルタイムシステム状況表示 (Node.js環境、メモリ使用量、稼働時間、設定値)。
    * `/api/monitoring/system` エンドポイント強化。
* **APIキー設定状況表示**:
    * 6種類のAPIキー (ITAD, Discord, Steam, IGDB, YouTube, Twitch) の設定状況可視化。
    * 設定済み/未設定の視覚的表示 (バッジ色分け)。

## ユーザビリティ仕様

* **レスポンシブ対応**:
    * デスクトップ (1920px以上): 3カラム。
    * タブレット (768px-1919px): 2カラム。
    * モバイル (767px以下): 1カラム、スタック表示。
* **ダークモード対応**:
    * ヘッダーにトグルボタン。
    * localStorageで設定永続化。
    * システム設定に追従オプション。
* **キーボードショートカット**:
    * `Ctrl/Cmd + R`: 手動更新
    * `Ctrl/Cmd + A`: ゲーム追加モーダル
    * `Ctrl/Cmd + S`: 設定画面
    * `Ctrl/Cmd + D`: ダークモード切り替え
    * `ESC`: モーダル・ドロップダウン閉じる
* **アクセシビリティ**:
    * 色覚異常対応、コントラスト (WCAG 2.1 AAレベル準拠)。
    * スクリーンリーダー (aria-label, role属性)。
    * フォーカス (タブ移動でキーボード操作可能)。