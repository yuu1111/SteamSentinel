# Claude Code 実装指示 (開発者向け)

## 重要な実装ポイント

1. **段階的機能有効化**: APIキーの有無に応じて機能を自動的に有効/無効化する。
2. **エラーハンドリング**: API障害時の適切なフォールバック処理を実装する。
3. **設定値検証**: 仕様書に記載された制限値内での動作を保証する検証を行う。
4. **レスポンシブUI**: モバイル対応とダークモード対応を徹底する。
5. **データ制限の明示**: ITAD APIの6ヶ月データ制限について、UI上で適切な警告表示を行う。
6. **ライセンス遵守**: 使用中のライブラリ・サービスのライセンス情報を適切に表示する。
7. **UIアーキテクチャ遵守**: Ant Design主体、Bootstrap通知システムのハイブリッド構成を維持する。

## UIライブラリ使用ガイドライン

### Ant Design 優先使用
* **新規コンポーネント・ページ**: 必ずAnt Design 5.26.2を使用
* **推奨コンポーネント**: Card, Form, Table, Button, Space, Alert, Typography
* **アイコン**: @ant-design/icons パッケージを使用
* **レスポンシブ**: Row/Col グリッドシステムを活用

### Bootstrap 継続利用領域
* **通知システム**: useAlert/AlertContainer (互換性重視)
* **ナビゲーション**: 既存Bootstrap Navbarを維持
* **レスポンシブ**: Bootstrap グリッドとの共存

### 実装時注意事項
* **スタイル競合回避**: 両ライブラリのクラス名衝突に注意
* **一貫性維持**: デザインシステム間での視覚的統一性確保
* **段階的移行**: 将来的なAnt Design完全移行を視野に入れた設計

## APIキー管理

* フェーズ1実装時は `ITAD_API_KEY` のみが必須です。
* その他のAPIキーは全てオプション扱いとし、未設定の機能は警告を表示して無効化してください。
* 実装者に、必要に応じてAPIキーの取得を促すメッセージを表示してください。

## フォールバック実装

* IGDB APIが失敗した場合、OpenCriticへの自動フォールバックを実装してください。
* 非公式APIが障害を起こした場合、適切なエラーメッセージを表示してください。
* Steam Store APIのレート制限時、監視間隔を自動調整する機能を検討してください。

## 現在の実装達成状況

* **フェーズ1** は**完全に実装済み**です。
* **フェーズ2** は**部分的に実装済み**であり、Discord連携、出費追跡、リリース日管理は完了しています。高割引ゲーム検知、レビュー統合、Epic無料ゲーム通知は基盤実装済みですが、UI統合や詳細実装が残っています。
* **実装メトリクス**:
    * TypeScriptファイル数: 29ファイル (バックエンド27 + フロントエンドSPA 2)。
    * コードサイズ: SPAルーター約400行、ナビゲーション約280行、設定画面約450行、総計11,000行以上。
    * APIエンドポイント: 35個 (Discord・テスト関連6個追加)。
    * 機能カバレッジ: フェーズ1 100%、フェーズ2 70% (基盤100%、統合70%)。
    * 品質指標: 型安全性100%、エラーハンドリング強化、セキュリティ準拠。