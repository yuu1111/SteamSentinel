# 開発ガイドライン

## コミュニケーションとGit運用

* **言語**: 全てのコミュニケーションは日本語で行います。
* **Git操作の承認**:
    * `git commit` や `git push` を実行する前に、**必ずユーザーの明示的な確認**を得てください。
    * ユーザーの承認なしに、「タスクを完了して」などの指示があっても、変更をコミットやプッシュしないでください。
    * コミット準備ができた際は、「これらの変更をコミット・プッシュしてもよろしいですか？」と確認してください。
* **コミットメッセージ**: Conventional Commit形式に準拠します。
    * `feat:` (新機能), `fix:` (バグ修正), `docs:` (ドキュメント), `style:` (書式), `refactor:` (リファクタリング), `test:` (テスト), `chore:` (メンテナンス)
* **コミットの分割**:
    * 複数のファイルが変更された場合、**機能や目的ごとに論理的にコミットを分割**してください。
    * 関連のない変更を組み合わせた大規模なコミットは避けてください。
    * 各コミットは単一の論理的作業単位を表し、完了後すぐにプッシュしてください。

## レポートとリリース管理

* **フェーズ実装レポート**: 各フェーズ完了時に、`reports` フォルダに `phaseX-implementation-report.md` (例: `phase1-implementation-report.md`) 形式で詳細なレポートを作成してください。
    * **必須項目**: 概要、機能一覧、アーキテクチャ、技術詳細、セキュリティ・パフォーマンス、品質保証、設定管理、成功指標、引き継ぎ事項、実装メトリクス（ファイル数、行数、カバレッジなど）。
    * 日本語で包括的に記述してください。
* **リリース管理**:
    * リリース時は、`CHANGELOG.md` と `CHANGELOG-JP.md` を更新し、適切なバージョン番号を付与してください。
    * **未リリース変更のプレースホルダー**: `## [X.X.X] -YYYY-MM-DD JST` を使用し、"Unreleased" は使用しないでください。
    * X.X.X はリリース時に実際のバージョンに置き換えます。
    * 全ての日付は **JST (日本標準時)** 形式 (`YYYY-MM-DD JST`) で記述してください。

## リリースプロセスワークフロー

1. **開発作業の完了**: 全ての開発作業が完了し、コミットがプッシュされていることを確認します。
2. **自動リリースコマンドの実行**:
    * パッチリリース: `npm run release` (1.0.0 → 1.0.1)
    * マイナーリリース: `npm run release:minor` (1.0.0 → 1.1.0)
    * メジャーリリース: `npm run release:major` (1.0.0 → 2.0.0)
    * これらのコマンドにより、依存関係のクリーンアップ、再ビルド、型チェック、リンティング、`package.json` のバージョン更新、リリースコミットとGitタグの作成が自動的に行われます。
3. **CHANGELOGの更新**: `CHANGELOG.md` と `CHANGELOG-JP.md` 内のプレースホルダー (`## [X.X.X] -YYYY-MM-DD JST`) を実際のバージョンとJSTの日付に更新します (例: `## [1.2.0] - 2025-06-25 JST`)。
4. **READMEドキュメントの更新**: 新機能が追加された場合、`README.md` と `README-JP.md` の機能リスト、使用例、コマンドリファレンスを更新し、同期されていることを確認します。
5. **ドキュメント更新のコミット**:
    ```bash
    git add CHANGELOG.md CHANGELOG-JP.md README.md README-JP.md
    git commit -m "docs: vX.X.Xリリースドキュメントを最終化"
    ```
6. **リリースをリモートへプッシュ**:
    ```bash
    git push origin main    # リリースコミットをプッシュ
    git push origin vX.X.X  # バージョンタグをプッシュ
    ```
7. **GitHub Actionsによる成果物作成**: GitHub Actionsが自動的にリリース成果物 (tar.gz と zip ファイル) を作成します。