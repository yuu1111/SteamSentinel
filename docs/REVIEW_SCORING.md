# レビュースコア計算仕様

## 各プラットフォームのスコア計算方法

### Steam評価
- **計算式**: `ポジティブレビュー率 = (ポジティブレビュー数 ÷ 総レビュー数) × 100`
- **スコア範囲**: 0-100点
- **評価区分**:
  - 95+点: 圧倒的に好評
  - 80-94点: 非常に好評  
  - 70-79点: おおむね好評
  - 40-69点: 賛否両論
  - 0-39点: おおむね不評
- **レビュー数補正**: 10件未満は「(レビュー少数)」、10,000件超は「(多数のレビュー)」表示

### IGDB評価
- **データソース**: IGDBのaggregated_rating、total_rating、ratingの優先順
- **計算式**: `Math.round(IGDB_rating)`
- **スコア範囲**: 0-100点
- **注意**: IGDBのスコアを疑似Metacriticスコアとして使用

### OpenCritic評価
- **データソース**: OpenCritic API
- **スコア範囲**: 0-100点
- **評価区分**:
  - 90+点: Mighty
  - 80-89点: Strong
  - 70-79点: Fair
  - 60-69点: Weak
  - 0-59点: Awful

## 統合スコア計算

### 重み付け計算式
```javascript
統合スコア = (Steam評価 × Steam重み + IGDB評価 × IGDB重み + OpenCritic評価 × OpenCritic重み) ÷ 総重み
```

### 重み設定
- **Steam**: 1.5（基本） / 2.0（1,000レビュー超）
- **IGDB**: 1.8  
- **OpenCritic**: 1.5

### 例: サイバーパンク2077
```
Steam: 85点 (844,704レビュー) × 重み2.0 = 170.0
IGDB: データなし
OpenCritic: データなし
統合スコア = 170.0 ÷ 2.0 = 85点
```

## 制限事項・注意点

### スコア信頼性
- **Steam**: 大量のユーザーレビューベース（高信頼性）
- **IGDB**: プロ・ユーザー混合評価（中程度信頼性）
- **OpenCritic**: プロレビューのみ（高信頼性だが対象ゲーム限定）

### データ取得制限
- **ゲーム名マッチング**: 完全一致しない場合、誤ったゲームのスコアを取得する可能性
- **Steam ID → IGDB連携**: external_gamesテーブルに登録されていないゲームは名前検索に依存
- **OpenCritic API**: 一部のゲームで400エラーが発生（APIの制限）
- **日本語ゲーム名**: 英語名での検索が必要な場合がある

### スコア解釈
- **Steam**: 85点 = 85%のユーザーが好評価（二択評価）
- **IGDB**: 75点 = 100点満点での評価（連続値）
- **OpenCritic**: 80点 = プロレビューアーの平均評価

### 統合スコアの限界
- **異なる評価基準**: ユーザー評価とプロ評価の性質差
- **レビュー数の影響**: 少数レビューの信頼性問題
- **時期的要因**: 発売直後と長期評価の差
- **地域差**: 地域によるゲーム評価の違い

### 技術的制限
- **キャッシュ依存**: 24時間の古いデータの可能性
- **API障害**: 個別API障害時の部分データ
- **レート制限**: IGDB（4req/s）の制限

## 実装場所
- **Steam計算**: `src/services/ReviewIntegrationService.ts:94-118`
- **統合計算**: `src/services/ReviewIntegrationService.ts:233-263`
- **重み設定**: `src/services/ReviewIntegrationService.ts:246-256`